<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Military Guardian Pro - Counter-Terrorism</title>
    <style>
        :root {
            --military-green: #2D5A27;
            --camouflage-brown: #5D4037;
            --alert-red: #D32F2F;
            --stealth-gray: #424242;
            --night-black: #121212;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--night-black), #1A1A1A);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* === MILITARY HEADER === */
        .military-header {
            background: linear-gradient(90deg, var(--military-green), var(--camouflage-brown));
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #666;
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .app-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .military-badge {
            width: 60px;
            height: 60px;
            background: var(--alert-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 3px solid white;
        }
        
        .title-text h1 {
            font-size: 24px;
            font-weight: bold;
            color: white;
        }
        
        .title-text p {
            font-size: 14px;
            color: #CCC;
        }
        
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .mode-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mode-military {
            background: var(--alert-red);
            color: white;
        }
        
        .mode-civilian {
            background: #1565C0;
            color: white;
        }
        
        .mode-btn.active {
            box-shadow: 0 0 15px rgba(255,255,255,0.5);
            transform: scale(1.05);
        }
        
        /* === DASHBOARD === */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: rgba(50, 50, 50, 0.7);
            border: 2px solid var(--military-green);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            border-bottom: 1px solid #666;
            padding-bottom: 10px;
        }
        
        .card-header i {
            color: var(--alert-red);
            font-size: 20px;
        }
        
        /* === MAIN CONTROLS === */
        .main-controls {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .control-btn {
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-stealth {
            background: linear-gradient(135deg, #424242, #212121);
            color: white;
            border: 2px solid #666;
        }
        
        .btn-stealth:hover {
            background: linear-gradient(135deg, #555, #333);
            border-color: var(--alert-red);
        }
        
        .btn-alert {
            background: linear-gradient(135deg, var(--alert-red), #B71C1C);
            color: white;
            border: none;
        }
        
        .btn-alert:hover {
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(211, 47, 47, 0.5);
        }
        
        /* === STATUS DISPLAY === */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .status-item {
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .status-value {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            margin: 5px 0;
        }
        
        .status-label {
            font-size: 12px;
            color: #999;
        }
        
        /* === SETTINGS === */
        .settings-panel {
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            display: none;
        }
        
        .setting-item {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #666;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--alert-red);
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        /* === MODAL === */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1A1A1A, #2D2D2D);
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            border: 3px solid var(--alert-red);
            text-align: center;
        }
        
        /* === RESPONSIVE === */
        @media (max-width: 600px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="military-header">
            <div class="header-content">
                <div class="app-title">
                    <div class="military-badge">
                        <i class="fas fa-crosshairs"></i>
                    </div>
                    <div class="title-text">
                        <h1>MILITARY GUARDIAN PRO</h1>
                        <p>Counter-Terrorism & Bandit Defense System</p>
                    </div>
                </div>
                <div class="mode-selector">
                    <button class="mode-btn mode-military active" onclick="setMode('military')">
                        <i class="fas fa-shield-alt"></i> MILITARY
                    </button>
                    <button class="mode-btn mode-civilian" onclick="setMode('civilian')">
                        <i class="fas fa-user"></i> CIVILIAN
                    </button>
                </div>
            </div>
        </div>
        
        <!-- DASHBOARD -->
        <div class="dashboard">
            <!-- Stealth Controls -->
            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-user-secret"></i>
                    <h3>STEALTH OPERATIONS</h3>
                </div>
                <div class="main-controls">
                    <button class="control-btn btn-stealth" onclick="activateStealthMode()">
                        <i class="fas fa-eye-slash"></i>
                        ACTIVATE STEALTH MODE
                    </button>
                    <button class="control-btn btn-stealth" onclick="startRoadScan()">
                        <i class="fas fa-road"></i>
                        SCAN ROAD (50m Left/Right)
                    </button>
                    <button class="control-btn btn-stealth" onclick="startEnvironmentCapture()">
                        <i class="fas fa-camera"></i>
                        CAPTURE ENVIRONMENT
                    </button>
                </div>
            </div>
            
            <!-- Emergency Controls -->
            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>EMERGENCY PROTOCOLS</h3>
                </div>
                <div class="main-controls">
                    <button class="control-btn btn-alert" onclick="triggerSilentAlert()">
                        <i class="fas fa-volume-mute"></i>
                        SILENT ALERT (Volume x3)
                    </button>
                    <button class="control-btn btn-alert" onclick="triggerShakeAlert()">
                        <i class="fas fa-hand-rock"></i>
                        SHAKE ALERT
                    </button>
                    <button class="control-btn btn-alert" onclick="sendLiveLocation()">
                        <i class="fas fa-map-marker-alt"></i>
                        LIVE LOCATION
                    </button>
                </div>
            </div>
        </div>
        
        <!-- STATUS DISPLAY -->
        <div class="dashboard-card">
            <div class="card-header">
                <i class="fas fa-chart-bar"></i>
                <h3>OPERATION STATUS</h3>
            </div>
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-value" id="connectionStatus">ACTIVE</div>
                    <div class="status-label">SATELLITE LINK</div>
                </div>
                <div class="status-item">
                    <div class="status-value" id="stealthStatus">ON</div>
                    <div class="status-label">STEALTH MODE</div>
                </div>
                <div class="status-item">
                    <div class="status-value" id="photosTaken">0</div>
                    <div class="status-label">PHOTOS CAPTURED</div>
                </div>
                <div class="status-item">
                    <div class="status-value" id="alertsSent">0</div>
                    <div class="status-label">ALERTS SENT</div>
                </div>
            </div>
        </div>
        
        <!-- SETTINGS PANEL -->
        <div class="dashboard-card">
            <div class="card-header" onclick="toggleSettings()" style="cursor: pointer;">
                <i class="fas fa-cog"></i>
                <h3>ADVANCED SETTINGS</h3>
                <i class="fas fa-chevron-down" style="margin-left: auto;"></i>
            </div>
            <div class="settings-panel" id="settingsPanel">
                <div class="setting-item">
                    <span>Auto-Scan Road Sides</span>
                    <label class="switch">
                        <input type="checkbox" id="autoScan" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Random Photo Capture</span>
                    <label class="switch">
                        <input type="checkbox" id="autoCapture" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Voice Recording</span>
                    <label class="switch">
                        <input type="checkbox" id="voiceRecord" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Volume Button Trigger</span>
                    <label class="switch">
                        <input type="checkbox" id="volumeTrigger" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Shake Detection</span>
                    <label class="switch">
                        <input type="checkbox" id="shakeTrigger" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Live GPS Tracking</span>
                    <label class="switch">
                        <input type="checkbox" id="gpsTracking" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>Encrypted Transmission</span>
                    <label class="switch">
                        <input type="checkbox" id="encryption" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
        
        <!-- TROOP MOVEMENT GUIDANCE -->
        <div class="dashboard-card">
            <div class="card-header">
                <i class="fas fa-users"></i>
                <h3>TROOP MOVEMENT GUIDANCE</h3>
            </div>
            <div class="main-controls">
                <button class="control-btn btn-stealth" onclick="guideTroops()">
                    <i class="fas fa-binoculars"></i>
                    START MOVEMENT GUIDANCE
                </button>
                <button class="control-btn btn-stealth" onclick="analyzeTerrain()">
                    <i class="fas fa-mountain"></i>
                    ANALYZE TERRAIN
                </button>
                <button class="control-btn btn-stealth" onclick="markCheckpoints()">
                    <i class="fas fa-flag-checkered"></i>
                    SET CHECKPOINTS
                </button>
            </div>
        </div>
        
        <!-- EMERGENCY CONTACTS -->
        <div class="dashboard-card">
            <div class="card-header">
                <i class="fas fa-address-book"></i>
                <h3>PRE-PROGRAMMED CONTACTS</h3>
            </div>
            <div style="padding: 15px;">
                <div class="setting-item">
                    <span>Command Center</span>
                    <span style="color: #4CAF50;">ACTIVE</span>
                </div>
                <div class="setting-item">
                    <span>Rapid Response Team</span>
                    <span style="color: #4CAF50;">ACTIVE</span>
                </div>
                <div class="setting-item">
                    <span>Air Support</span>
                    <span style="color: #4CAF50;">ON STANDBY</span>
                </div>
                <div class="setting-item">
                    <span>Medical Evacuation</span>
                    <span style="color: #FF9800;">5 MIN AWAY</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- MODAL FOR ALERTS -->
    <div class="modal" id="alertModal">
        <div class="modal-content">
            <div style="font-size: 60px; color: var(--alert-red); margin-bottom: 20px;">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h2 id="modalTitle">ALERT ACTIVATED</h2>
            <p id="modalMessage" style="margin: 20px 0; line-height: 1.6;"></p>
            <button class="control-btn btn-alert" onclick="closeModal()" style="width: 100%;">
                ACKNOWLEDGE
            </button>
        </div>
    </div>
    
    <script>
        // ============================================
        // MILITARY GUARDIAN PRO - CORE SYSTEM
        // ============================================
        const MilitaryGuardian = {
            mode: 'military',
            stealthMode: false,
            operationActive: false,
            photosTaken: 0,
            alertsSent: 0,
            
            init() {
                console.log('ðŸŽ–ï¸ Military Guardian Pro Initialized');
                
                // Load saved settings
                this.loadSettings();
                
                // Setup event listeners
                this.setupEventListeners();
                
                // Show welcome message
                setTimeout(() => {
                    this.showAlert('SYSTEM READY', 'Counter-terrorism system operational');
                }, 1000);
            },
            
            setMode(newMode) {
                this.mode = newMode;
                
                // Update UI
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`.mode-${newMode}`).classList.add('active');
                
                // Update system behavior based on mode
                if (newMode === 'military') {
                    document.body.style.background = 'linear-gradient(135deg, #121212, #1A1A1A)';
                    this.showAlert('MILITARY MODE', 'Advanced combat features enabled');
                } else {
                    document.body.style.background = 'linear-gradient(135deg, #1565C0, #0D47A1)';
                    this.showAlert('CIVILIAN MODE', 'Basic emergency features only');
                }
            },
            
            activateStealthMode() {
                this.stealthMode = !this.stealthMode;
                document.getElementById('stealthStatus').textContent = this.stealthMode ? 'ON' : 'OFF';
                document.getElementById('stealthStatus').style.color = this.stealthMode ? '#4CAF50' : '#FF9800';
                
                this.showAlert(
                    this.stealthMode ? 'STEALTH MODE ACTIVATED' : 'STEALTH MODE DEACTIVATED',
                    this.stealthMode ? 
                        'All operations now covert\nNo sounds\nNo screen lights\nEncrypted transmission' :
                        'Normal operations resumed'
                );
            },
            
            startRoadScan() {
                this.showAlert('ROAD SCAN INITIATED', 'Scanning 50m left and right of road\nThreat detection active\nReal-time analysis running');
                
                // Simulate scan results
                setTimeout(() => {
                    const threats = Math.random() > 0.7 ? 'POSSIBLE THREAT DETECTED' : 'CLEAR';
                    this.showAlert('SCAN COMPLETE', `Road analysis:\n\nâ€¢ Left 50m: ${threats}\nâ€¢ Right 50m: CLEAR\nâ€¢ Road surface: STABLE\nâ€¢ Visibility: GOOD`);
                }, 2000);
            },
            
            startEnvironmentCapture() {
                this.photosTaken++;
                document.getElementById('photosTaken').textContent = this.photosTaken;
                
                // Simulate photo capture
                if (document.getElementById('voiceRecord').checked) {
                    this.showAlert('ENVIRONMENT CAPTURED', 'Random photo + voice recorded\nEncrypted and sent to command\nGPS coordinates attached');
                } else {
                    this.showAlert('PHOTO CAPTURED', 'Random photo taken\nGPS coordinates attached\nSent to pre-programmed contacts');
                }
                
                // Update photos counter with animation
                const counter = document.getElementById('photosTaken');
                counter.style.transform = 'scale(1.2)';
                setTimeout(() => counter.style.transform = 'scale(1)', 300);
            },
            
            triggerSilentAlert() {
                if (!document.getElementById('volumeTrigger').checked) {
                    this.showAlert('FEATURE DISABLED', 'Volume button trigger is disabled in settings');
                    return;
                }
                
                this.alertsSent++;
                document.getElementById('alertsSent').textContent = this.alertsSent;
                
                this.showAlert(
                    'SILENT ALERT SENT',
                    'Volume button x3 trigger activated:\n\n' +
                    'âœ… Live location transmitted\n' +
                    'âœ… Environment photos sent\n' +
                    'âœ… Voice recording captured\n' +
                    'âœ… Command center notified\n' +
                    'âœ… No external indication\n\n' +
                    'RESPONSE TEAMS DISPATCHED'
                );
                
                // Simulate sending to pre-programmed numbers
                this.sendToContacts('SILENT_ALERT');
            },
            
            triggerShakeAlert() {
                if (!document.getElementById('shakeTrigger').checked) {
                    this.showAlert('FEATURE DISABLED', 'Shake detection is disabled in settings');
                    return;
                }
                
                this.alertsSent++;
                document.getElementById('alertsSent').textContent = this.alertsSent;
                
                this.showAlert(
                    'SHAKE ALERT ACTIVATED',
                    'Device shake detected:\n\n' +
                    'âœ… Emergency protocol initiated\n' +
                    'âœ… Continuous location tracking\n' +
                    'âœ… Auto-photo every 30 seconds\n' +
                    'âœ… Voice recording active\n' +
                    'âœ… All contacts notified\n\n' +
                    'STAY IN POSITION - HELP INCOMING'
                );
            },
            
            sendLiveLocation() {
                this.showAlert(
                    'LIVE LOCATION ACTIVE',
                    'Continuous GPS tracking enabled:\n\n' +
                    'ðŸ“ Real-time coordinates streaming\n' +
                    'ðŸ“¡ Satellite link established\n' +
                    'ðŸ›°ï¸ Backup systems active\n' +
                    'ðŸ”’ Encrypted transmission\n' +
                    'ðŸ‘¥ Shared with command center\n\n' +
                    'Tracking will continue until disabled'
                );
            },
            
            guideTroops() {
                this.showAlert(
                    'TROOP GUIDANCE ACTIVE',
                    'Movement guidance system:\n\n' +
                    'ðŸ‘ï¸ Scanning 50m perimeter\n' +
                    'ðŸ—ºï¸ Optimal route calculated\n' +
                    'âš ï¸ Threat zones marked\n' +
                    'ðŸ›¡ï¸ Cover locations identified\n' +
                    'ðŸ“Š Real-time terrain analysis\n\n' +
                    'Follow highlighted path on screen'
                );
                
                // Simulate guidance updates
                setTimeout(() => {
                    this.showAlert('GUIDANCE UPDATE', 'Clear path ahead\nNext checkpoint: 200m\nCover available at 150m\nNo threats detected');
                }, 3000);
            },
            
            analyzeTerrain() {
                this.showAlert(
                    'TERRAIN ANALYSIS',
                    'Comprehensive analysis:\n\n' +
                    'ðŸžï¸ Elevation: 245m\n' +
                    'ðŸŒ³ Cover density: 70%\n' +
                    'ðŸ‘ï¸ Visibility: 300m\n' +
                    'ðŸ’¨ Wind: 12km/h NE\n' +
                    'ðŸŒ¡ï¸ Temperature: 28Â°C\n' +
                    'â±ï¸ Sunrise: 06:15\n\n' +
                    'RECOMMENDATION: Advance under cover'
                );
            },
            
            markCheckpoints() {
                this.showAlert(
                    'CHECKPOINTS SET',
                    'Strategic positions marked:\n\n' +
                    'ðŸ“ CP Alpha: 200m ahead\n' +
                    'ðŸ“ CP Bravo: Cover position\n' +
                    'ðŸ“ CP Charlie: High ground\n' +
                    'ðŸ“ CP Delta: Extraction point\n\n' +
                    'All checkpoints shared with command'
                );
            },
            
            sendToContacts(alertType) {
                console.log(`ðŸ“¡ Sending ${alertType} to pre-programmed contacts...`);
                
                // Simulate sending to multiple contacts
                const contacts = ['Command Center', 'Rapid Response', 'Air Support', 'Medical'];
                
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 25;
                    document.getElementById('connectionStatus').textContent = `SENDING ${progress}%`;
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        document.getElementById('connectionStatus').textContent = 'ACTIVE';
                        document.getElementById('connectionStatus').style.color = '#4CAF50';
                        
                        this.showAlert('TRANSMISSION COMPLETE', 
                            'Alert sent to all contacts:\n\n' +
                            'âœ… Command Center - ACKNOWLEDGED\n' +
                            'âœ… Rapid Response - DISPATCHED\n' +
                            'âœ… Air Support - ON STANDBY\n' +
                            'âœ… Medical - 5 MIN ETA\n\n' +
                            'Backup units notified'
                        );
                    }
                }, 200);
            },
            
            setupEventListeners() {
                // Setup shake detection
                if (document.getElementById('shakeTrigger').checked) {
                    this.setupShakeDetection();
                }
                
                // Setup volume button detection
                if (document.getElementById('volumeTrigger').checked) {
                    this.setupVolumeDetection();
                }
                
                // Auto-scan if enabled
                if (document.getElementById('autoScan').checked) {
                    setInterval(() => {
                        if (this.operationActive) {
                            this.startRoadScan();
                        }
                    }, 30000); // Every 30 seconds
                }
                
                // Auto-capture if enabled
                if (document.getElementById('autoCapture').checked) {
                    setInterval(() => {
                        if (this.operationActive && this.stealthMode) {
                            this.startEnvironmentCapture();
                        }
                    }, 45000); // Every 45 seconds
                }
            },
            
            setupShakeDetection() {
                let lastShake = 0;
                
                // Simple shake detection
                window.addEventListener('devicemotion', (e) => {
                    const acceleration = e.acceleration;
                    if (!acceleration) return;
                    
                    const totalForce = Math.abs(acceleration.x) + Math.abs(acceleration.y) + Math.abs(acceleration.z);
                    
                    if (totalForce > 25 && Date.now() - lastShake > 3000) {
                        lastShake = Date.now();
                        this.triggerShakeAlert();
                    }
                });
            },
            
            setupVolumeDetection() {
                let volumePressCount = 0;
                let lastVolumePress = 0;
                
                // Listen for volume key presses (simulated with keyboard for demo)
                document.addEventListener('keydown', (e) => {
                    // Use V key to simulate volume button for demo
                    if (e.key === 'v' || e.key === 'V') {
                        const now = Date.now();
                        
                        if (now - lastVolumePress < 1000) {
                            volumePressCount++;
                            
                            if (volumePressCount === 3) {
                                volumePressCount = 0;
                                this.triggerSilentAlert();
                            }
                        } else {
                            volumePressCount = 1;
                        }
                        
                        lastVolumePress = now;
                    }
                });
                
                // Mobile volume button detection would require native app
                console.log('ðŸ“± Volume button detection: Press V key 3 times quickly to simulate');
            },
            
            showAlert(title, message) {
                document.getElementById('modalTitle').textContent = title;
                document.getElementById('modalMessage').textContent = message;
                document.getElementById('alertModal').style.display = 'flex';
                
                // Vibrate if available
                if (navigator.vibrate) {
                    navigator.vibrate([200, 100, 200]);
                }
            },
            
            closeModal() {
                document.getElementById('alertModal').style.display = 'none';
            },
            
            toggleSettings() {
                const panel = document.getElementById('settingsPanel');
                panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
            },
            
            loadSettings() {
                // Load settings from localStorage
                const settings = JSON.parse(localStorage.getItem('military_guardian_settings') || '{}');
                
                // Apply settings
                if (settings.autoScan !== undefined) {
                    document.getElementById('autoScan').checked = settings.autoScan;
                }
                if (settings.autoCapture !== undefined) {
                    document.getElementById('autoCapture').checked = settings.autoCapture;
                }
                // ... load other settings
            },
            
            saveSettings() {
                const settings = {
                    autoScan: document.getElementById('autoScan').checked,
                    autoCapture: document.getElementById('autoCapture').checked,
                    voiceRecord: document.getElementById('voiceRecord').checked,
                    volumeTrigger: document.getElementById('volumeTrigger').checked,
                    shakeTrigger: document.getElementById('shakeTrigger').checked,
                    gpsTracking: document.getElementById('gpsTracking').checked,
                    encryption: document.getElementById('encryption').checked
                };
                
                localStorage.setItem('military_guardian_settings', JSON.stringify(settings));
            }
        };
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            MilitaryGuardian.init();
            
            // Save settings when changed
            document.querySelectorAll('.switch input').forEach(input => {
                input.addEventListener('change', () => {
                    MilitaryGuardian.saveSettings();
                    MilitaryGuardian.setupEventListeners(); // Re-setup with new settings
                });
            });
        });
        
        // Global functions for HTML onclick
        function setMode(mode) {
            MilitaryGuardian.setMode(mode);
        }
        
        function activateStealthMode() {
            MilitaryGuardian.activateStealthMode();
        }
        
        function startRoadScan() {
            MilitaryGuardian.startRoadScan();
        }
        
        function startEnvironmentCapture() {
            MilitaryGuardian.startEnvironmentCapture();
        }
        
        function triggerSilentAlert() {
            MilitaryGuardian.triggerSilentAlert();
        }
        
        function triggerShakeAlert() {
            MilitaryGuardian.triggerShakeAlert();
        }
        
        function sendLiveLocation() {
            MilitaryGuardian.sendLiveLocation();
        }
        
        function guideTroops() {
            MilitaryGuardian.guideTroops();
        }
        
        function analyzeTerrain() {
            MilitaryGuardian.analyzeTerrain();
        }
        
        function markCheckpoints() {
            MilitaryGuardian.markCheckpoints();
        }
        
        function toggleSettings() {
            MilitaryGuardian.toggleSettings();
        }
        
        function closeModal() {
            MilitaryGuardian.closeModal();
        }
    </script>
</body>
</html>
